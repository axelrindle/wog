parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"uDwL":[function(require,module,exports) {
axios.defaults.baseURL=$("base").attr("href");
},{}],"lTk1":[function(require,module,exports) {
"use strict";function n(){var n=document.createElement("fakeelement"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(var e in i)if(void 0!==n.style[e])return i[e]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.whichAnimationEvent=n;
},{}],"g0To":[function(require,module,exports) {
"use strict";function r(r,e){var t=e.length,n=r.length;if(n>t)return!1;if(n===t)return r===e;r:for(var u=0,o=0;u<n;u++){for(var f=r.charCodeAt(u);o<t;)if(e.charCodeAt(o++)===f)continue r;return!1}return!0}function e(e,t){return t.filter(function(t){return r(e,t)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fuzzysearch=e;
},{}],"XN+K":[function(require,module,exports) {
"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};require("./bootstrap");var t=require("./helpers"),o=require("./fuzzy");new Vue({el:"#app",data:{files:[],fileFilter:"",selected:-1,log:"",filterMode:"grep",grepMode:"grep",grep:"",lineMode:"head",line:"",lineToGoTo:1,error:"Select a file on the left.",isLoading:!1,socket:null,showRefreshedIndicator:!1},computed:{filesFiltered:function(){var e=this;return this.files.filter(function(t){return-1!==t.path.indexOf(e.fileFilter)})},linesFiltered:function(){var e=this;if(-1===this.selected||""===this.log)return this.log;var t=this.log.split("\n");return""!==this.grep&&("grep"===this.grepMode?t=t.filter(function(t){return-1!==t.indexOf(e.grep)}):"fuzzy"===this.grepMode&&(t=(0,o.fuzzysearch)(this.grep,t))),t},filteredLinesAmount:function(){return this.linesFiltered.length},downloadUrl:function(){return this.selected+"/download"}},methods:{reset:function(){this.selected=-1,this.log="",this.fileFilter="",this.grep="",this.files=[],this.error="Select a file on the left."},refresh:function(){var e=this;return this.reset(),axios.post("/all").then(function(t){e.files=t.data}).catch(function(t){e.error=t.message})},select:function(t){var o=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i||(this.log="",this.grep="",this.isLoading=!0),this.error="",this.selected=t,axios.post("/"+t).then(function(i){var n=i.data;"object"===e(i.data)&&(n=JSON.stringify(n)),""===(n=n.trim())?o.error="The file "+o.files[t].path+" is empty!":(o.log=n,o.showRefreshedIndicator=!0,setTimeout(function(){o.showRefreshedIndicator=!1},3e3)),o.socket&&o.socket.send(t)}).catch(function(e){o.error=e.message}).finally(function(){i?$("#logContent").scrollTop(19.5*o.filteredLinesAmount):o.isLoading=!1})},totalLinesAmount:function(){return""===this.linesFiltered?0:this.log.split("\n").length},isFiltered:function(){return""!==this.grep},reloadFile:function(){this.selected>-1&&this.select(this.selected)},openGoToLine:function(){-1===this.selected?alert("Select a file first."):$("#goToLineModal").addClass("is-active").find("input").focus()},closeGoToLine:function(){$("#goToLineModal").removeClass("is-active")},goToLine:function(){this.closeGoToLine(),$("#logContent").scrollTop(19.5*this.lineToGoTo).find('div[data-line="'+this.lineToGoTo+'"]').addClass("blink").one((0,t.whichAnimationEvent)(),function(e){$(this).removeClass("blink")})},showGoToLineError:function(){return this.lineToGoTo>this.filteredLinesAmount}},watch:{error:function(e){""!==e&&console.log("Error: "+e)}},mounted:function(){var e=("http:"===location.protocol?"ws":"wss")+"://"+location.host+"/socket";console.log(e),this.socket=new WebSocket(e),this.socket.onopen=function(e){console.log("WebSocket connection established.")}.bind(this),this.socket.onclose=function(e){alert("WebSocket connection closed!\nAutomatic file refresh disabled."),this.socket=null}.bind(this),this.socket.onerror=function(e){this.error=e}.bind(this),this.socket.onmessage=function(e){"file-was-updated"===e.data&&this.select(this.selected,!0)}.bind(this),this.refresh().then(function(){$("#fader").fadeOut(500,function(){return $("#fader").remove()})})}});
},{"./bootstrap":"uDwL","./helpers":"lTk1","./fuzzy":"g0To"}]},{},["XN+K"], null)