extends layout.pug

block content

  // Content wrapper
  div.flex.no-justify#app

    img(src=path("img/header.png"), width="600px")

    // Login card
    div.card
      header.card-header
        p.card-header-title Login

      form(action=path("login"), method="POST")
        // Input items
        div.card-content

          // Username
          .field
            label.label Username
            .control.has-icons-left
              input.input(type="text", name="username", placeholder="Username", v-model="username", required)
              span.icon.is-small.is-left
                i.fas.fa-user
            p.help.is-danger(v-if="username === ''") Enter a username!

          // Password
          .field
            label.label Password
            .control.has-icons-left
              input.input(type="password", name="password", placeholder="Password", v-model="password", required)
              span.icon.is-small.is-left
                i.fas.fa-key
            p.help.is-danger(v-if="password === ''") Enter a password!

          if error
            p.has-text-danger= error

        // Buttons
        footer.card-footer
          input.card-footer-item.has-background-success.has-text-white.pointer(type="submit", value="Login")


block js
  if !_debug
    script(src='https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.min.js', integrity='sha256-chlNFSVx3TdcQ2Xlw7SvnbLAavAQLO0Y/LBiWX04viY=', crossorigin='anonymous')
  else
    script(src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js")
  script(src='https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.slim.min.js', integrity='sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8=', crossorigin='anonymous')
  script(src='https://cdn.jsdelivr.net/npm/axios@0.18.0/dist/axios.min.js', integrity='sha256-mpnrJ5DpEZZkwkE1ZgkEQQJW/46CSEh/STrZKOB/qoM=', crossorigin='anonymous')
  script(src=path("js/login.js"))
